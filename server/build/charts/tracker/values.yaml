# Configuration for Tracker application
tracker:
  name: tracker
  namespace: tracker

  # Deployment configuration
  deployment:
    replicaCount: 1
    revisionHistoryLimit: 3
    image:
      repository: krapi0314/tracker
      tag: latest
      pullPolicy: Always
    resources: {}
      # limits:
      #   cpu: 500m
      #   memory: 512Mi
      # requests:
      #   cpu: 250m
      #   memory: 256Mi

  # Service configuration
  service:
    type: ClusterIP
    port: 8090
    targetPort: 8090

  # Environment variables
  env:
    port: "8090"
    mongoUri: "mongodb://tracker-mongodb:27017"
    mongoDb: "tracker"
    discordWebhookUrl: "https://discord.com/api/webhooks/1377615352996954183/NlDw6Fc7y4fQ3BjFk7Io8DSOiiccqyKczKwo9YkIsEidIIrM0YakpWlewQ6cUt_pMcSu"
    frontendUrl: "http://localhost:5173"
    minioEndpoint: "tracker-minio:9000"
    minioAccessKey: "minioadmin"
    minioSecretKey: "minioadmin"
    minioBucket: "default-storage"

# Configuration for Yorkie
yorkie:
  enabled: true
  name: yorkie
  
  # Deployment configuration
  deployment:
    replicaCount: 1
    image:
      repository: yorkieteam/yorkie
      tag: "0.5.7"
      pullPolicy: IfNotPresent
    resources: {}
      # limits:
      #   cpu: 500m
      #   memory: 512Mi
      # requests:
      #   cpu: 250m
      #   memory: 256Mi

  # Service configuration
  service:
    type: ClusterIP
    ports:
      - name: yorkie-api
        port: 8080
        targetPort: 8080
      - name: yorkie-pprof
        port: 8081
        targetPort: 8081

# MongoDB configuration (custom deployment)
mongodb:
  enabled: true
  replicaCount: 1
  
  image:
    repository: mongo
    tag: "4.4"
    pullPolicy: IfNotPresent
  
  auth:
    enabled: false
    rootUser: "admin"
    rootPassword: "adminpassword"
  
  persistence:
    enabled: true
    storageClass: "standard"
    accessMode: ReadWriteOnce
    size: 1Gi
  
  resources: {}
    # limits:
    #   cpu: 500m
    #   memory: 512Mi
    # requests:
    #   cpu: 250m
    #   memory: 256Mi

# MinIO configuration (custom deployment)
minio:
  enabled: true
  
  image:
    repository: minio/minio
    tag: "latest"
    pullPolicy: IfNotPresent
  
  auth:
    rootUser: "minioadmin"
    rootPassword: "minioadmin"
  
  persistence:
    enabled: true
    storageClass: "standard"
    accessMode: ReadWriteOnce
    size: 1Gi
  
  resources: {}
    # limits:
    #   cpu: 500m
    #   memory: 512Mi
    # requests:
    #   cpu: 250m
    #   memory: 256Mi

# Configuration for ingress
ingress:
  enabled: false
  ingressClassName: nginx
  ## Set to alb if you are using AWS, NCP ALB
  # ingressClassName: alb
  
  # Host configuration
  hosts:
    enabled: false
    trackerHost: "tracker-api.yorkie.dev"
  
  # AWS ALB configuration
  awsAlb:
    enabled: false
    scheme: internet-facing
    certArn: "arn:aws:acm:ap-northeast-2:123412341234:certificate/1234-1234-1234-1234-1234"
    listenPorts: '[{"HTTPS": 443}]'
    backendProtocol: HTTP
    backendProtocolVersion: HTTP1
    groupName: "api.yorkie.dev"
    groupOrder: "4"
  
  # NCP ALB configuration
  ncpAlb:
    enabled: false
    certNo: "1234"
    healthcheckPath: "/healthz"
  
  # Nginx configuration
  nginx:
    enabled: true
